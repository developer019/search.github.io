<!DOCTYPE html>
<html>
<head>
	<title>Pixabay Image API</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <div class="info" x-data="searchModule" x-init="">
    <h1>Image Search</h1>
    <div class="search">
      <div>
        <input @keydown.enter="getImages()" type="text" x-model="searchkey" placeholder="Type keyword and hit enter">
        <button @click='getImages()'>Search</button>
        <p>* powered by pixabay</p>
      </div>
    </div>
    <div class="search-result">
      <template x-for="image in images">
        <a :href='image.pageURL' target='_blank'>
          <img :src="image.webformatURL" :title="image.tags" loading=lazy />
        </a>
      </template>
    </div>
  </div>
</body>
 <script src="//cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.min.js" defer></script>
<script type="text/javascript">
	const  searchModule = {
		apiKey : '21449712-f0a8724d8eb961a56340b43d2',
		apiUrl : 'https://www.pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=50',
		searchKey :'',
		images : [],
		getImages(){
			const requestUrl = `${this.apiUrl}&q=${this.searchKey}&key=${this.apiKey}`
			fetch(requestUrl)
			.then(res=>res.json())
			.then(data=>{
               this.images = data.hits
			})
		}
	}
</script>
</html>
 
